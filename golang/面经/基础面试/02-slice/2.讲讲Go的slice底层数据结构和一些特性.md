## 2.讲讲Go的slice底层数据结构和一些特性

### 底层结构：

* **指向底层数组的指针：可以访问和操作数组元素**
* **长度**：表示slice 当前包含的元素数量
* **容量**：表示slice可以从底层数组中访问的最大元素数量。

### 内存分配增长

1.18之后，Go1.18不再以1024为临界点，而是设定了一个值为256的threshold，以256为临界点；超过256，不再是每次扩容1/4，而是每次增加（旧容量+3*256）/4；其中cap为预期容量，也就是说添加了数据之后需要的容量

当新切片需要的容量cap大于两倍扩容的容量，则直接按照新切片需要的容量扩容；当原 slice 容量 < threshold 的时候，新 slice 容量变成原来的 2 倍；
当原 slice 容量 > threshold，进入一个循环，每次容量增加（旧容量+3*threshold）/4

### 切片操作

```
s := []int{1, 2, 3, 4, 5}
s1 := s[1:3] // s1 是 [2, 3]
s2 := s[:3]  // s2 是 [1, 2, 3]
s3 := s[2:]  // s3 是 [3, 4, 5]
```



